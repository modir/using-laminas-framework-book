{backmatter}

# Приложение A. Настройка среды веб разработки {#devenv}

В данном приложении мы представим инструкции для подготовки вашей среды для разработки веб приложений
на базе Laminas Framework. Если у вас уже имеется настренная среда веб разработки, вы можете пропустить
эту главу.

Настройка среды веб разработки - это первая вещь, которую вам нужно сделать, когда вы начинаете разрабатывать
свой первый веб сайт. Это включает в себя установку веб сервера, движка PHP c требуемыми расширениями, а также
базы данных.

Для запуска примеров, которые мы будем создавать в этой книге, мы будем использовать
Apache HTTP Server (v.2.4 или выше), движок PHP (v.5.6 или выше)
с расшрением XDebug, а также базу данных MySQL (v.5.6 или выше).

Мы также дадим инструкции для установки NetBeans IDE, которая является удобной интегрированной средой
разработки для PHP. Она позволяет более просто перемещатся по коду, редактировать и отлаживать ваше
приложение PHP. NetBeans IDE написана на языке Java и может быть установлена в ОС Windows, Linux, либо
в другой ОС, поддерживающей Java машину.

Мы также предоставляем инструкции для начинающих о том, как установить веб-сайт на основе Laminas в облако Amazon EC2
в [Приложении Д. Установка вебсайта на Laminas в Amazon EC2](#ec2-tutorial).

## Установка Apache, PHP и MySQL в Linux

В общем, рекомендуется использовать популярный и хорошо поддерживаемый дистрибутив Linux, 32-битный (x86)
либо 64-битный (amd64). 64-битная версия дает большую производительность, но доставляет больше проблем (таких
как совместимость с драйверами). 32-битные системы существуют большее количество времени и имеют меньше проблем,
что важно для начинающих пользователей.

Существуют два больших семейства Linux: [Debian](https://www.debian.org/) и
[Red Hat](https://www.redhat.com). Debian - это бесплатный open-source проект,
который имеет несколько ветвей, наиболее популярная из которых [Linux Ubuntu](http://www.ubuntu.com/). Red Hat - это
коммерчески распространяемая ОС, чьи "бесплатные" ветви называются [Linux CentOS](https://www.centos.org/)
и [Linux Fedora](https://getfedora.org/).

Red Hat Linux разрабатывается компанией Red Hat Inc.
Red Hat Linux (либо ее "бесплатная" модификация CentOS) известна как "корпоративная" операционная система.
Ее основное преимущество - "стабильность" (низкая доля системных ошибок). Однако эта стабильность
достигается тщательным отбором ПО, которое устанавливается из коробки. Когда вы устанавливаете такую
ОС для целей разработки на языке PHP, эта "стабильность" может стать проблемой, так как
вы имеете доступ к некой старой (но "стабильной") версии PHP и другого ПО. В такую ОС не включают новое ПО, так
что если вам нужно будет установить его, вам придется загрузить его откуда-нибудь, прочитать мануал, и вероятно (если вам не повезло)
скомпилировать его самостоятельно.

Есть еще один дистрибутив Linux, который, по-мнению автора, больше подходит для нужд PHP разработки.
Его название - Linux Ubuntu. Ubuntu разрабатывается компанией Canonical Ltd. Linux Ubuntu имеет две редакции: Desktop
edition и Server edition. Ubuntu Desktop - это дистрибутив, содержащий графическую среду, в то время как Ubuntu Server
edition позволяет работать лишь в консольном терминале. Для целей разработки на PHP рекомендуется использовать Desktop edition.

Canonical обычно выпускает новую версию Linux Ubuntu каждые 6 месяцев, в апреле и в октябре,
а также LTS (long term support) версию каждые 2 года. Например, на момент написания данного текста последняя
версия - Ubuntu 16.04 Xenial Xerus LTS (выпущенная в апреле 2016).

Не-LTS выпуски имеют короткий период поддержки (около 9 месяцев), но также имеют новейшую версию PHP из коробки.
С другой стороны, LTS выпуски имеют более длинный период поддержки (5 лет), но несколько устаревшую версию
PHP из коробки.

Для целей PHP разработки автор бы порекомендовал использовать последний выпуск
Ubuntu Desktop, потому что он имеет последнюю версию PHP. Недостаток использования такого выпуска - это то, что
вам придется обновлять Linux каждые 9 месяцев (когда истекает период поддержки). Если вам не нравится перспектива
обновления каждые 9 месяцев, выберите выпуск LTS.

Для справки, таблица A.1 перечисляет версии PHP, доступные для установки из репозитария в различных
дистрибутивах Linux:

{title="Таблица A.1. Доступные для установки версии PHP в различных выпусках Linux"}
|------------------------------------------|----------------------------|
| Выпуск Linux                             |	Версия PHP              |
|------------------------------------------|----------------------------|
| Linux Ubuntu 16.04 Xenial Xerus LTS      |	7.0                     |
|------------------------------------------|----------------------------|
| Linux Ubuntu 15.10 Wily Werewolf         |	5.6                     |
|------------------------------------------|----------------------------|
| Linux Ubuntu 15.04 Vivid Vervet          |	5.6                     |
|------------------------------------------|----------------------------|
| Linux Ubuntu 14.10 Utopic Unicorn        |	5.5                     |
|------------------------------------------|----------------------------|
| Linux Ubuntu 14.04 Trusty Tahr           |	5.5                     |
|------------------------------------------|----------------------------|

I> Как вы можете увидеть из таблицы выше, для целей разработки на Laminas, вам нужно будет установить
Ubuntu 15.04 или выше.

В процессе выбора между 32-битной и 64-битной версиями системы, помните, что 64-битная версия
Linux Ubuntu будет иметь больше проблем с совместимостью, чем 32-битная версия. Недостаток поддержки
драйверов также может вызвать проблемы на 64-битной платформе.

T> Если вы новичок в Linux Ubuntu, посмотрите эти замечательные руководства от пользователя YouTube
[LearnLinux.tv](https://www.youtube.com/channel/UCxQKHvKbmSzGMvUrVtJYnUA):
[Tutorial - Installing Ubuntu 16.04 LTS](https://www.youtube.com/watch?v=ajYMQ69S4pg) (данное
руководство показывает как установить Ubuntu Desktop Edition)
и [Tutorial - Installing Ubuntu Server 16.04](https://www.youtube.com/watch?v=w5W_48vyC6U)
(показывает как установить Ubuntu Server Edition, которая имеет только консольный терминал).

### Установка Apache и PHP

В современных дистрибутивах Linux вы можете запросто загрузить и установить ПО из централизованного *репозитария*.
Репозитарий содержит так называемые *пакеты*. Пакет имеет имя (например, `php`, `apache2`), а также версию.

В общем, вы можете установить пакет одной командой. Однако эта команда (и название пакета) могут различаться
в разных дистрибутивах Linux. Например, чтобы загрузить и установить пакеты в Debian-дистрибутивах Linux (например
Ubuntu Linux), вы используете Advanced
Packaging Tool (APT). В дистрибутивах от Red Hat (например Fedora или CentOS) вы используете
YUM (менеджер пакетов RPM). Ниже приводятся детальные инструкции для этих операционных систем.

**Debian или Linux Ubuntu**

Прежде всего, рекомендуется обновить систему путем установки последних доступных обновлений. Чтобы сделать это,
запустите следующие команды в терминале:

```
sudo apt-get update

sudo apt-get upgrade
```

Команды выше запускают APT и устанавливают новейшие обновления системных пакетов.
Команда `sudo` (расшифровывается как "Super User DO") позволяет запускать другую команду,
`apt-get` в нашем случае, как системный администратор (root). Вы обычно используете `sudo`, когда вам
нужно повысить привилегии, чтобы установить пакет или редактировать какой-нибудь файл конфигурации.

T> Команда `sudo` может запросить у вас пароль. Когда она запросит пароль, введите пароль,
с которым вы вошли в систему, и нажмите Enter.

Далее, введите следующие команды:

```
sudo apt-get install apache2

sudo apt-get install php

sudo apt-get install libapache2-mod-php
```

Команды выше загружают из репозитария и устанавливают последние доступные версии
Apache HTTP Server, движка PHP и модули расширений PHP.

I> Команды выше могут запросить ваше разрешение, когда вы устанавливаете пакет.
I> Рекомендуется ответить Yes (нажать "y" и затем нажать Enter).

**Fedora, CentOS или Red Hat Linux**

Прежде всего, рекомендуется обновить систему путем установки последних доступных обновлений.
Чтобы сделать это, введите в терминал следующую команду:

```
sudo yum update
```

Команда выше запускает инструмент YUM и устанавливает новейшие обновления системных пакетов.

Далее, из командной строки запустите следующие команды:

```
sudo yum install httpd

sudo yum install php
```

Команды выше загружают из репозитария и устанавливают последние доступные версии
Apache HTTP Server и движка PHP.

Далее, запустите следующие команды, чтобы добавить Apache HTTP Server в системную автозагрузку и запустить его:

```
sudo chkconfig --level 235 httpd on

sudo service httpd start
```

### Проверка установки веб-сервера

После того как вы установили Apache HTTP сервер, проверьте, что он действительно установлен правильно, и что сервер видит движок PHP.
Чтобы сделать это, создайте файл *phpinfo.php* в корневой директории документов Apache (document root directory).

*Корневая директория документов* - это директория, где вы можете (по-умолчанию) хранить веб-файлы.
Обычно корневая директория для документов имеет путь */var/www/html*.

T> Чтобы удобно перемещаться по структуре директория и редактировать файлы, рекомендуется установить
T> Midnight Commander (файл-менеджер и текстовый редактор).
T> Чтобы установить Midnight Commander в Debian или Linux Ubuntu, запустите следующую команду:
T>
T> `sudo apt-get install mc`
T>
T>  Следующая команда установит Midnight Commander в Fedora, CentOS или Red Hat Linux:
T>
T> `sudo yum install mc`
T>
T> После установки, запустите Midnight Commander командой `mc`. Вы также сможете редактировать текстовые файлы следующей командой:
T>
T> `mcedit /path/to/file`
T>
T> Если вам нужны административные привилегии, чтобы редактировать файл, припишите команду `sudo` к команде выше.

В файо *phpinfo.php* добавьте вызов PHP метода `phpinfo()` следующим образом:

~~~text
<?php
  phpinfo();
?>
~~~

Откройте файл в веб браузере. Стандартная страница с информацией о PHP должна появиться
(см. рис. A.1 для примера).

![Рис A.1. Информационная страница PHP](../en/images/devenv/phpinfo.png)

### Редактирование конфигурации PHP

Чтобы изменить конфигурацию PHP для вашей среды разработки, вам нужно редактировать
конфигурационный файл PHP (*php.ini*) и подправить несколько параметров.

T> В разных дистрибутивах Linux файлы конфигурации PHP могут находиться в разных путях.
T> Чтобы редактировать файл конфигурации PHP в Debian или Linux Ubuntu, напечатайте следующее:
T>
T> `sudo mcedit /etc/php/7.0/apache2/php.ini`
T>
T> Запустите следующую команду, чтобы редактировать файл *php.ini* в Fedora, CentOS или Red Hat Linux:
T>
T> `sudo mcedit /etc/php.ini`

Для среды разработки также рекомендуется установить следующие параметры, контролирующие сообщения об ошибках
и логгирование. Это заставит PHP выводить все сообщения об ошибках в ваших веб страницах на экран.

`error_reporting = E_ALL`

`display_errors = On`

`display_startup_errors = On`

T> Чтобы удобно искать внутри этого файла, нажмите `F7` в окне редактора Midnight Commander и
T> введите строку поиска (название параметра, который нужно найти).

Установите настройки часовой зоны (замените `<your_time_zone>` названием вашей часовой зоны,
например, `UTC` или `America/New_York`):

`date.timezone = <your_time_zone>`

Установите параметры `max_execution_time`, `upload_max_filesize` и `post_max_size`, чтобы разрешить выгрузку на сервер файлов
большого размера посредством POST. Например, установив для параметра `upload_max_filesize` значение `128M`,
вы разрешите выгрузку файлов размером до 128 мегабайт. Установив `max_execution_time` в нуль, вы разрешите PHP скрипту выполняться
бесконечно долго.

`max_execution_time = 0`

`post_max_size = 128M`

`upload_max_filesize = 128M`

Когда вы готовы, сохраните ваши изменения, нажав клавишу *F2*, а затем нажмите *F10*, чтобы выйти из редактора Midnight Commander.

### Перезапуск Apache Web Server

После внесения изменений в файлы конфигурации вам нужно будет перезапустить
Apache HTTP-сервер, чтобы сохранить изменения. Это делается такой командой (в Debian или Linux Ubuntu):

`sudo service apache2 restart`

либо такой (в Fedora, CentOS или Red Hat):

`sudo service httpd restart`

### Включение модуля mod_rewrite

Laminas Framework требует включенного модуля Apache *mod_rewrite*.
Этот модуль используется для перезаписи запрашиваемых URL согласно некоторым правилам,
перенаправляя пользователей сайта к другим URL.

**В Debian или Ubuntu Linux**

Для включения модуля `mod_rewrite` воспользуйтесь следующей командой:

`a2enmod rewrite`

Затем перезапустите веб-сервер Apache, чтобы применить изменения.

**В Fedora, CentOS или Red Hat Linux**

В этих дистрибутивах Linux `mod_rewrite` включен по умолчанию, так что никаких дополнительных
действий не требуется.

### Создание виртуального хоста Apache

Также Laminas Framework требует наличия *виртуального хоста* для вашего сайта.
Термин "виртуальный хост" означает, что вы можете держать несколько веб-сайтов на одной машине.

Виртуальные сайты отличаются доменными именами (например,
*site.mydomain.com* и *site2.mydomain.com*). Каждый виртуальный
хост имеет свою собственную корневую директорию документов, что
позволяет хранить веб-файлы в любом месте системы (не только в каталоге */var/www/html*).

T> Обратите внимание, что на данный момент вам не нужно создавать виртуальный хост,
T> мы сделаем это в главе [Laminas Skeleton Application](#skeleton). Пока что вам нужно
T> просто иметь представление о том, как создаются виртуальные хосты в различных дистрибутивах Linux.

**В Debian или Ubuntu Linux**

У вас есть образец виртуального хоста в
*/etc/apache2/sites-available/000-default.conf* (см. ниже).

~~~text
<VirtualHost *:80>
	# Директива The ServerName определяет схему запроса, имя хоста и порт,
	# который сервер использует, чтобы идентифицировать себя. Это используется при
	# создании URL переадресации. В контексте виртуальных хостов, ServerName
	# указывает, какое имя хоста должно быть в заголовке Host запроса.
	# Для стандартного виртуального хоста (то есть, этого файла) это
	# значение не имеет определенного значения, так как используется в крайнем случае независимо от хоста.
	# Вы, однако, можете явно задать его для любого последующего виртуального хоста.
	#ServerName www.example.com

	ServerAdmin webmaster@localhost
	DocumentRoot /var/www/html

	# Доступные уровни логирования: trace8, ..., trace1, debug, info, notice, warn,
	# error, crit, alert, emerg.
	# Также возможно настроить уровень логирования для определенных
	# модулей, например,
	#LogLevel info ssl:warn

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

	# Для большинства файлов конфигурации из conf-available/,
	# включенных или выключенных на глобальном уровне, возможно
	# добавить строчку только для определенного хоста. Например,
	# следующая строчка включает конфигурацию CGI только для этого
    # хоста после того, как он был глобально отключен через	"a2disconf".
	#Include conf-available/serve-cgi-bin.conf
</VirtualHost>

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
~~~

Вам нужно всего лишь изменить файл этого виртуального хоста и перезапустить
Apache для применения изменений.

Вы также можете скопировать этот файл и создать другой
виртуальный хост, если хотите, чтобы несколько веб-сайтов работали
на одной машине. Например, чтобы создать файл виртуального хоста *001-vhost2.conf*,
напишите в командной строке следующее:

`cd /etc/apache2/sites-available`

`sudo cp 000-default.conf 001-vhost2.conf`

`a2ensite 001-vhost2.conf`

I> Имя виртуального хоста начинается с префикса (например, *000*, *010*, etc.), который
I> определяет его приоритет. Веб-сервер Apache пытается направить HTTP-запрос
I> каждому виртуальному хосту по очереди (сначала *000-default*, затем *001-vhost2*),
I> и, если какой-либо виртуальный хост не может обслужить запрос, это пытается сделать следующий - и так далее.

**В Fedora, CentOS или Red Hat Linux**

Пример виртуального хоста можно найти в файле */etc/httpd/conf/httpd.conf*.
Пролистайте в самый низ документа в раздел Virtual Hosts.
Вы можете изменить этот раздел желаемым образом и перезапустить Apache для применения изменений.

### Установка PHP-расширения XDebug

Чтобы иметь возможность отладки сайта, рекомендуем установить
расширение XDebug. Это расширение позволяет заглянуть внутрь работающей
программы, посмотреть переменные, переданные от клиента, пройтись по стеку
вызовов и профилировать ваш PHP-код.

**В Debian или Ubuntu Linux**

Чтобы установить XDebug, воспользуйтесь следующей командой:

`sudo apt-get install php-xdebug`

Затем измените файл `/etc/php/7.0/mods-available/xdebug.ini`, добавив строчку:

`sudo mcedit /etc/php/7.0/mods-available/xdebug.ini`

Если вы планируете отлаживать ваш сайт с другого хоста, добавьте эти строки в конце файла:

~~~text
xdebug.remote_enable=1
xdebug.remote_handler=dbgp
xdebug.remote_mode=req
xdebug.remote_host=<remote_ip_address>
~~~

Перезапустите сервер Apache для применения изменений. Затем откройте *phpinfo.php* в вашем
браузере и найдите раздел XDebug (он должен выглядеть как на рисунке A.2)

![Рисунок A.2. Данные XDebug](../en/images/devenv/xdebug.png)

**В Fedora, CentOS или Red Hat Linux**

В этих дистрибутивах Linux установка XDebug немного сложнее.
Сначала установите пакет Xdebug следующей командой:

`yum install php-pecl-xdebug`

После установки нужно создать файл *xdebug.ini* в каталоге */etc/php.d*:

`mcedit /etc/php.d/xdebug.ini`

В этом файле добавьте такую строчку:

`Laminas_extension = /usr/lib/php/modules/xdebug.so`

Измените файл *php.ini*:

`mcedit /etc/php.ini`

и, если вы планируете отладку с другого хоста, добавьте эти строки:

~~~text
[xdebug]

xdebug.remote_enable=1
xdebug.remote_handler=dbgp
xdebug.remote_mode=req
xdebug.remote_host=<remote_ip_address>
xdebug.remote_port=9000
~~~

Перезапустите веб-сервев Apache для применения изменений.
Затем проверьте *phpinfo.php* в вашем браузере. Если установка прошла
успешно, вы увидите информацию, касающуюся XDebug.

### Установка сервера баз данных MySQL

[MySQL](http://www.mysql.com/) - это свободная реляционная система управления базами данных (СУБД),
разрабатываемая компанией Oracle. MySQL является самой популярной СУБД среди используемых с PHP.
В этой книге мы будем использовать именно ее.

**Debian или Linux Ubuntu**

Чтобы установить СУБД MySQL, наберите:

~~~
sudo apt-get install mysql-server

sudo apt-get install mysql-client

sudo apt-get install php-mysql
~~~

Команды выше установят соответственно серверный компонент MySQL, ее клиентный компонент и расширение
MYSQL для PHP.

**Fedora, CentOS или Red Hat Linux**

Чтобы установить СУБД MySQL, наберите:

~~~
sudo yum install mysql-server

sudo yum install mysql

sudo yum install php-mysql
~~~

Команды выше установят соответственно серверный компонент MySQL, ее клиентный компонент и расширение
MYSQL для PHP.

Выполните следующие команды, чтобы добавить сервер MySQL в автозагрузку
и запустить его.

~~~
sudo chkconfig --level 235 mysqld on

sudo service mysqld start
~~~

### Настройка сервера БД MySQL

Во время установки сервера MySQL создается пользователь *root*.
По умолчанию пользователь root не имеет пароля, вам нужно установить
его вручную. Вам понадобится этот пароль для создания других
пользователей БД MySQL.

Для подключения к серверу MySQL используйте следующую команду:

~~~
mysql -u root -p
~~~

Вы увидите командную строку MySQL. Наберите в ней следующую
команду и нажмите Enter (в команде ниже замените `<your_password>`
выбранным вами паролем):

~~~
SET PASSWORD FOR 'root'@'localhost' = '<insert_your_password>';
~~~

Если команда выполнится успешно, вы увидите следующее сообщение:

`Query OK, 0 rows affected (0.00 sec)`

Теперь необходимо создать новую БД, которая будет
хранить таблицы. Для этого наберите:

~~~
CREATE DATABASE test_db;
~~~

Эта команда также создает пустую схему, которую мы заполним позднее.

Далее мы хотим создать еще одного пользователя БД с именем `test_user`,
который будет использоваться сайтом для соединения с базой.
Чтобы создать пользователя, воспользуйтесь следующей командой
(не забудьте заменить `<insert_your_password>` выбранным паролем):

```
GRANT ALL PRIVILEGES ON test_db.* TO 'test_user'@'localhost' IDENTIFIED BY '<insert_your_password>';
```

Эта команда создает пользователя 'test_user'
и наделяет его всеми привилегиями на БД 'test_db'.

Теперь наберите `quit` для выхода из командной строки MySQL.

## Установка Apache, PHP и MySQL в Windows

Мы настоятельно рекомендуем использовать Linux для разработки на PHP. Если для ежедневной работы вы используете Windows,
вы можете поставить Linux на виртуальную машину (например, на [VirtualBox](https://www.virtualbox.org/)) и запускать на ней Apache,
PHP и MySQL. Если в то же время вы хотите использовать NetBeans на Windows, это не проблема - просто настройте общий каталог (например,
настройте сервер Samba на вашей виртуальной машине).

Если же вы очень хотите установить Apache, PHP и MySQL на Windows (чего мы, опять-таки, не рекомендуем делать),
вот некоторые инструкции (но обратите внимание, что установка на Windows может быть сложнее, чем на Linux).

Существует два самых популярных дистрибутива Apache + MySQL + PHP:

 * [WampServer](http://www.wampserver.com/)
 * [XAMPP](https://www.apachefriends.org/ru/index.html)

Выберите один из них и установите его на сервер.

### Проверка установки веб-сервера

После установки веб-сервера необходимо проверить, корректно ли он
установился, а также распознает ли сервер Apache PHP-движок.

Для проверки правильности установки PHP и Apache, создайте файл *phpinfo.php* в корневой
директории документов Apache.

В файле *phpinfo.php* используйте метод `phpinfo()` следующим образом:

~~~text
<?php
	phpinfo();
?>
~~~

Откройте файл в вашем браузере. Должна отобразиться стандартная страница сведений
(рисунок A.3).

![Figure A.3. Страница сведений PHP](../en/images/devenv/phpinfo_win32.png)

### Включение модуля mod_rewrite

Laminas Framework требует включенного модуля Apache `mod_rewrite`.
Чтобы его включить `mod_rewrite`, откройте файл конфига Apache (обычно это *httpd.conf*), затем найдите следующую строчку:

~~~text
#LoadModule rewrite_module modules/mod_rewrite.so
~~~

и уберите решетку (#) вначале, чтобы раскомментировать строку.
Она должна будет выглядеть так:

~~~text
LoadModule rewrite_module modules/mod_rewrite.so
~~~

Затем перезапустите веб-сервер Apache для применения изменений.

### Создание виртуального хоста Apache

Термин "виртуальный хост" означает, то вы можете держать несколько веб-сайтов на одной машине.
Виртуальные сайты отличаются доменными именами (например, *site.mydomain.com*
и *site2.mydomain.com*)

О том, как создавать виртуальные хосты, вы можете прочитать в документации WAMP или XAMPP.

T> На данный момент вам не нужно изменять файл виртуального хоста, мы сделаем это в главе [Laminas Skeleton Application](#skeleton)
T> при установке приложения Hello World. Пока что вам просто нужно понять, как
T> создаются виртуальные хосты.

### Установка PHP-расширения XDebug

Для возможности отладки ваших сайтов в среде разработки NetBeans, рекомендуем
установить расширение XDebug для PHP. Скачайте соответствующую
DLL с [этого сайта](http://www.xdebug.org/download.php).

Затем отредактируйте файл *php.ini*, добавив следующую строку:

~~~text
Laminas_extension="C:/path/to/your/xdebug.dll"
~~~

Если вы планируете отлаживать ваш сайт с удаленного хоста, вам также необходимо добавить эти строчки:

~~~
xdebug.remote_enable=on
xdebug.remote_handler=dbgp
xdebug.remote_host=<remote_ip_address>
~~~

Перезапустите сервер Apache, чтобы применить изменения.
Затем откройте *phpinfo.php* в браузере и найдите раздел XDebug (он должен выглядеть
как на рисунке A.4):

![Figure A.4. Данные XDebug](../en/images/devenv/xdebug_win32.png)

### Настройка сервера БД MySQL

Теперь создадим схему БД и пользователя БД. Воспользуемся клиентом
командной строки MySQL. Посмотрите в документации WAMP или XAMPP, как это сделать.

Клиент командной строки MySQL выглядит следующим образом (см. рсиунок A.5):

![Рисунок A.5. Клиент командной строки MySQL](../en/images/devenv/mysql_command_line_client.png)

Теперь нам нужно создать новую БД, которая будет хранить
таблицы. Чтобы это сделать, наберите в клиенте MySQL следующее:

`CREATE DATABASE test_db;`

Эта команда создаст пустую БД, которую мы заполним позже.
Если команда выполнилась успешно, вы увидите такое сообщение:

`Query OK, 1 rows affected (0.05 sec)`

Далее мы создадим еще одного пользователя БД с именем `test_user`,
которого будет использоваться веб-сайтом для связи с
базой данных. Чтобы это сделать, используйте следующую команду (замените
`<your_password>` на придуманный вами пароль):

`GRANT ALL PRIVILEGES ON test_db.* TO 'test_user'@'localhost' IDENTIFIED BY '<your_password>';`

Команда выше создает пользователя с именем `test_user` и наделяет его всеми
привилегиями на схеме БД `test_db`.

## Установка NetBeans IDE в Linux

Вы можете установить среду разработки NetBeans двумя способами: либо из репозитория, как вы делали с Apache,
PHP и MySQL, либо скачав установщик с сайта NetBeans и запустив его. Первый метод проще, поэтому мы
рекомендуем использовать его.

Чтобы установить NetBeans на Debian или Linux Ubuntu, наберите эту команду в командной строке:

`sudo apt-get install netbeans`

либо же эту команду, чтобы установить ее на Fedora, CentOS или Red Hat Linux:

`sudo yum install netbeans`

Эти команды скачивают NetBeans из репозитория и устанавливают вместе со всеми
зависимыми пакетами. После завершения установки вы можете запустить NetBeans, набрав:

`netbeans`

Окно среды разработки NetBeans показано на рисунке A.6.

![Рисунок A.6. Среда разработки NetBeans](../en/images/devenv/netbeans_window.png)

Чтобы создавать PHP-проекты, вам нужно активировать PHP-плагин для NetBeans. Чтобы это
сделать, откройте меню `Инструменты-Плагины`. В появившемся окне нажмите на вкладку *Настройки*
и поставьте галочки для всех *Центров обновлений*.

![Рисунок A.7. Плагины NetBeans](../en/images/devenv/netbeans_plugins_dialog.png)

Затем нажмите на вкладку *Доступные плагины*. На этой вкладке нажмите на кнопку *Проверить наличие новых плагинов*,
чтобы составить список всех доступных плагинов. Затем поставьте галочку напротив PHP-плагина
и нажмите кнопку *Установить* (см. рисунок A.8).

![Рисунок A.8. Плагины NetBeans](../en/images/devenv/netbeans_plugins_php.png)

Как только установка PHP-плагина будет завершена, перезапустите среду разработки.
После этого вы сможете создавать новые PHP-проекты через `Файл->Новый проект...`.

T>также рекомендуем обновить NetBeans до последней версии
через `Помощь->Проверить наличие обновлений`.

## Установка NetBeans IDE в Windows

Установка NetBeans на Windows довольно проста. Вам нужно просто скачать установщик с
[сайта NetBeans](https://netbeans.org/) и запустить его. Вы можете столкнуться с несколькими
доступными для скачивания сборками NetBeans - вам нужна та, что предназначена для
PHP-разработки (см. рисунок A.9).

![Рисунок A.9. Страница скачивания NetBeans для PHP](../en/images/devenv/netbeans_download_page.png)

T> Если у вас нет JRE (Java Runtime Environment - среда выполнения для Java), вам
T> нужно загрузить и установить ее перед установкой NetBeans. JRE можно скачать с
T> [сайта Oracle](http://www.oracle.com/technetwork/java/javase/downloads/index.html).

## Выводы

В этом приложении мы дали инструкции по установке и настройке HTTP-сервера Apache, PHP-движка
и базы данных MySQL как для Linux, так и для Windows.

Также мы дали инструкции по установке интегрированной среды разработки приложений (IDE) NetBeans,
удобной среды для PHP-разработки. Она позволяет вам эффективно управлять приложением, редактировать его
и отлаживать.

Q> **Эти инструкции не сработали. Что мне делать?**
Q>
Q> Пожалуйста, оставьте ниже комментарий с описанием вашей проблемы.
